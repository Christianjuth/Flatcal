function tutorial(){var o=new Array;o[1]=function(){analyticsEvent("tutorial","20%");var e=!0,t=theme.get();t.sort();var n=0;for(i=0;1e4>i;i++)setTimeout(function(){if(1==e){$(".button").unbind("mouseover").unbind("mouseout"),n>t.length-1&&(n=0);var i=Math.floor(Math.random()*(t.length-n-1)+1);n+=i,loadedTheme=t[n-1],theme.load(loadedTheme)}},150*i);Alert("Calculator 2.0!","It is finally here. More power. More customization. But same elegance. ",function(){$("#theme-selctor").val(loadedTheme).trigger("chosen:updated"),e=!1,o[2]()})},o[2]=function(){analyticsEvent("tutorial","40%"),Alert("What is new?","Try this little demo and see what sets us apart. Try the calculator itself in the left, and change the options in the right. When you are ready, click next to continue.",function(){animateTheme=!1,$("#theme-selctor").val(loadedTheme).trigger("chosen:updated"),$("#next").unbind().click(function(){o[3]()})})},o[3]=function(){analyticsEvent("tutorial","60%"),-1!=window.navigator.platform.toLowerCase().indexOf("mac")?Alert("Copy and paste?","Type a number. Click 'Command C' to copy, and 'Command V' to paste.",function(){$("#next").unbind().click(function(){o[4]()})}):Alert("Copy and paste?","Type a number. Click 'Control C' to copy, and 'Control V' to paste.",function(){$("#next").unbind().click(function(){o[4]()})})},o[4]=function(){analyticsEvent("tutorial","80%"),-1!=window.navigator.platform.toLowerCase().indexOf("mac")?Alert("Keyboard Shortcuts!","Try clicking 'Option C'. Once you see the popup you can control it with your number keys and plus, minus, etc.",function(){$("#next").unbind().click(function(){o[5]()})}):Alert("Keyboard Shortcuts!",'Try clicking "Alt C". Once you see the popup you can control it with your number keys and plus, minus, etc.',function(){$("#next").unbind().click(function(){o[5]()})})},o[5]=function(){analyticsEvent("tutorial","100%"),setTimeout(function(){Alert("You have finished the tutorial!","Please feel free to contact me at juth.dev@gmail.com. I am looking for testers and more help. You will now be redirected to our settings page.",function(){localStorage.tutorial=!0,window.open("../settings/options/options.html","_self",!1)})},500)},o[1]()}function scientific(e,t){Clear(),$("#scientific").children(".checkbox").iCheck("disable"),1==e?($("#input-container").animate({width:"390px","padding-right":"11px"},300,"linear",function(){$("#scientific-container").fadeIn(300),void 0!=t&&t(),$("#scientific").children(".checkbox").iCheck("enable")}),$("#margins").animate({"margin-left":"0px"},300,"linear")):$("#scientific-container").fadeOut(200,function(){$("#margins").animate({"margin-left":"108px"},300,"linear"),$("#input-container").animate({width:"187px","padding-right":"8px"},300,"linear",function(){void 0!=t&&t(),$("#scientific").children(".checkbox").iCheck("enable")})})}function dialogue(e,t,n){$("<div />").qtip({content:{text:e,title:t},position:{my:"center",at:"center",target:$(window)},show:{ready:!0,modal:{on:!0,blur:!1}},hide:{effect:n},style:{type:"dialogue",classes:"qtip-bootstrap"},events:{render:function(e,t){$("button",t.elements.content).click(function(e){t.hide(e)})},hide:function(e,t){t.destroy()}}})}function capitalize(e){for(var t=e.split(" "),n=0;n<t.length;n++){var i=t[n].charAt(0).toUpperCase();t[n]=i+t[n].substr(1)}return t.join(" ")}var loadedTheme="google",enable="all";$(document).ready(function(){myLibrary("#theme-builder-container").center(),progressJs().start(),$.getJSON(chrome.extension.getURL("resources/themes/themes-list.json"),function(e){for(e.sort(theme.sort.reverse),i=0;i<e.length;i++){var t=capitalize(e[i].name).replace(/-/," "),n=e[i].name.toLocaleLowerCase();$('<option class="theme-selctor-option" value="'+n+'">'+t+"&#174;</option>").prependTo("#theme-selctor")}progressJs().end()}),$("#number-container").css({display:"inline-block"}),$("#input-container").css({width:"183px","padding-right":"8px"}),$(".input-text").hide(),$("#margins").css({"margin-left":"108px"}),tutorial(),$("input[type=checkbox]").iCheck({checkboxClass:"icheckbox_square-grey checkbox",increaseArea:"20%"}).on("ifToggled",function(){scientific(0!=$("#scientific").find("input").prop("checked")?!0:!1)}),$("#theme-selctor").chosen({disable_search_threshold:10}),$("#theme-selctor").change(function(){theme.load($("#theme-selctor").val())})}),window.Alert=function(e,t,n){var i=$("<p />",{text:t}),o=$("<button />",{text:"Ok","class":"full"});dialogue(i.add(o),e,n)},option={defineCheck:function(e,t,n,i,o){void 0==i&&(i=function(){}),void 0==o&&(o=function(){}),e=$(e),"true"==localStorage[t]?(e.find("input").prop("checked",!0),i()):(e.find("input").prop("checked",!1),o()),e.iCheck({checkboxClass:"icheckbox_square-grey checkbox",increaseArea:"20%"}).on("ifToggled",function(){0!=e.find("input").prop("checked")?(localStorage[t]="true",i()):(localStorage[t]="false",o())}),1==n&&this.watch(t,500,function(n){n.defineCheck(e,t,!1,i,o)})},dissableCheck:function(e){e=$(e),$(e).fadeTo(100,.4,function(){$(e).children(".checkbox").iCheck("disable")})},enableCheck:function(e){e=$(e),$(e).fadeTo(100,1,function(){$(e).children(".checkbox").iCheck("enable")})},defineSelect:function(e,t,n,i){e=$(e),e.val(localStorage[t]),e.chosen({disable_search_threshold:10}),e.trigger("chosen:updated"),i(),e.change(function(){localStorage[t]=e.val(),i()}),1==n&&this.watch(t,1e3,function(n){n.defineSelect(e,t,!1,i)})},watch:function(e,t,n){var i=localStorage[e];setTimeout(function(e,t,n,i,o){localStorage[e]!=i&&n(o),o.watch(e,t,n)},t,e,t,n,i,this)}};
