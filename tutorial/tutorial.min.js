function tutorial(){var r=new Array;r[1]=function(){var o=!0,t=theme.get();t.sort();var e=0;for(i=0;1e4>i;i++)setTimeout(function(){if(1==o){$(".button").unbind("mouseover").unbind("mouseout"),e>t.length-1&&(e=0);var r=Math.floor(Math.random()*(t.length-e-1)+1);e+=r,loadedTheme=t[e-1],theme.load(loadedTheme)}},150*i);Alert("Calculator 2.0!","It is finally here. More power. More customization. But same elegance. ",function(){o=!1,$("#theme-selctor").val(loadedTheme).trigger("chosen:updated"),r[2]()})},r[2]=function(){Alert("What is new?","Try this little demo and see what sets us apart. Try the calculator itself in the left, and change the options in the right. When you are ready, click next to continue.",function(){animateTheme=!1,$("#theme-selctor").val(loadedTheme).trigger("chosen:updated"),$("#next").unbind().click(function(){r[3]()})})},r[3]=function(){-1!=window.navigator.platform.toLowerCase().indexOf("mac")?Alert("Copy and paste?","Type a number. Click 'Command C' to copy, and 'Command V' to paste.",function(){$("#next").unbind().click(function(){r[4]()})}):Alert("Copy and paste?","Type a number. Click 'Control C' to copy, and 'Control V' to paste.",function(){$("#next").unbind().click(function(){r[4]()})})},r[4]=function(){-1!=window.navigator.platform.toLowerCase().indexOf("mac")?Alert("Keyboard Shortcuts!","Try clicking 'Option C'. Once you see the popup you can control it with your number keys and plus, minus, etc. If Option C does not bring up the calculator you may need to delete and reinstall this extension due to a bug in Chrome. We apologize for the inconvenience...",function(){$("#next").unbind().click(function(){r[5]()})}):Alert("Keyboard Shortcuts!",'Try clicking "Alt C". Once you see the popup you can control it with your number keys and plus, minus, etc. If Alt C does not bring up the calculator you may need to delete and reinstall this extension due to a bug in Chrome. We apologize for the inconvenience...',function(){$("#next").unbind().click(function(){r[5]()})})},r[5]=function(){setTimeout(function(){Alert("You have finished the tutorial!","Please feel free to contact me at juth.dev@gmail.com. I am looking for testers and more help. You will now be redirected to our settings page.",function(){localStorage.tutorial=!0,window.open("../settings/options/options.html","_self",!1)})},500)},r[1]()}function scientific(o,t){Clear(),$("#scientific").children(".checkbox").iCheck("disable"),1==o?($("#input-container").animate({width:"390px","padding-right":"11px"},300,"linear",function(){$("#scientific-container").fadeIn(300),void 0!=t&&t(),$("#scientific").children(".checkbox").iCheck("enable")}),$("#margins").animate({"margin-left":"0px"},300,"linear")):$("#scientific-container").fadeOut(200,function(){$("#margins").animate({"margin-left":"108px"},300,"linear"),$("#input-container").animate({width:"187px","padding-right":"8px"},300,"linear",function(){void 0!=t&&t(),$("#scientific").children(".checkbox").iCheck("enable")})})}function animatedShadow(o){var t=$(o),e=~Math.round((0-$(t).offset().left-$(t).outerWidth()/2-150)/175-14),r=~Math.round((0-$(t).offset().top-$(t).outerHeight()/2-150)/175-13),n=e+"px "+r+"px 2px #ddd";t.css({"-webkit-box-shadow":n,"box-shadow":n}),$(document).on("mousemove",function(t){var e=$(o),r=~Math.round((t.pageX-$(e).offset().left-$(e).outerWidth()/2-150)/175-15),n=~Math.round((t.pageY-$(e).offset().top-$(e).outerHeight()/2-150)/175-14),i=r+"px "+n+"px 2px #ddd";e.css({"-webkit-box-shadow":i,"box-shadow":i})}),window.onbeforeunload(function(){localStorage.tutorial=!0})}function loadTheme(o){var t=chrome.extension.getURL("resources/themes/"+o+".json");$.getJSON(t,function(o){theme.load(o)})}function dialogue(o,t,e){$("<div />").qtip({content:{text:o,title:t},position:{my:"center",at:"center",target:$(window)},show:{ready:!0,modal:{on:!0,blur:!1}},hide:{effect:e},style:{type:"dialogue",classes:"qtip-bootstrap"},events:{render:function(o,t){$("button",t.elements.content).click(function(o){t.hide(o)})},hide:function(o,t){t.destroy()}}})}function capitalize(o){for(var t=o.split(" "),e=0;e<t.length;e++){var r=t[e].charAt(0).toUpperCase();t[e]=r+t[e].substr(1)}return t.join(" ")}var loadedTheme="google",enable="all";$(document).ready(function(){progressJs().start(),$.getJSON(chrome.extension.getURL("resources/themes/themes-list.json"),function(o){for(o.sort(theme.sort.reverse),i=0;i<o.length;i++){var t=capitalize(o[i].name).replace(/-/," "),e=o[i].name.toLocaleLowerCase();$('<option class="theme-selctor-option" value="'+e+'">'+t+"&#174;</option>").prependTo("#theme-selctor")}progressJs().end()}),$("#number-container").css({display:"inline-block"}),$("#input-container").css({width:"183px","padding-right":"8px"}),$(".input-text").hide(),$("#margins").css({"margin-left":"108px"}),tutorial(),$("input[type=checkbox]").iCheck({checkboxClass:"icheckbox_square-grey checkbox",increaseArea:"20%"}).on("ifToggled",function(){scientific(0!=$("#scientific").find("input").prop("checked")?!0:!1)}),$("#theme-selctor").chosen({disable_search_threshold:10}),$("#theme-selctor").change(function(){loadTheme($("#theme-selctor").val())}),myLibrary("#theme-builder-container").center()}),window.Alert=function(o,t,e){var r=$("<p />",{text:t}),n=$("<button />",{text:"Ok","class":"full"});dialogue(r.add(n),o,e)},option={defineCheck:function(o,t,e,r,n){void 0==r&&(r=function(){}),void 0==n&&(n=function(){}),o=$(o),"true"==localStorage[t]?(o.find("input").prop("checked",!0),r()):(o.find("input").prop("checked",!1),n()),o.iCheck({checkboxClass:"icheckbox_square-grey checkbox",increaseArea:"20%"}).on("ifToggled",function(){0!=o.find("input").prop("checked")?(localStorage[t]="true",r()):(localStorage[t]="false",n())}),1==e&&this.watch(t,500,function(e){e.defineCheck(o,t,!1,r,n)})},dissableCheck:function(o){o=$(o),$(o).fadeTo(100,.4,function(){$(o).children(".checkbox").iCheck("disable")})},enableCheck:function(o){o=$(o),$(o).fadeTo(100,1,function(){$(o).children(".checkbox").iCheck("enable")})},defineSelect:function(o,t,e,r){o=$(o),o.val(localStorage[t]),o.chosen({disable_search_threshold:10}),o.trigger("chosen:updated"),r(),o.change(function(){localStorage[t]=o.val(),r()}),1==e&&this.watch(t,1e3,function(e){e.defineSelect(o,t,!1,r)})},watch:function(o,t,e){var r=localStorage[o];setTimeout(function(o,t,e,r,n){localStorage[o]!=r&&e(n),n.watch(o,t,e)},t,o,t,e,r,this)}};