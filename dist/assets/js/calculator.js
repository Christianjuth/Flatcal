let calculator={ini:function(t){this.storage=t.storage;let e=this.storage;t.max=t.max||15,t.max=Math.min(Math.round($("#input-container").width()/18-1),t.max),void 0!==typeof t.selector&&($.each(t.selector,function(t,e){calculator.selector[t]=$(e)}),$.each(t.options,function(t,e){calculator.options[t]=e}),this.options.maxLength=t.max,"0"!=e.m&&$("#m-status").text("m"),$(t.selector.radDeg).text(localStorage.radDeg),""===e.op||""===e.second?this.screen.set(e.first):this.screen.set(e.second))},value:function(){return parseFloat(this.screen.get())},selector:{},options:{},numberClicked:function(t){let e=this.storage;1==e.clear&&this.screen.clear(),""==e.op?e.first.replace(/-/g,"").replace(/\./g,"").length<this.options.maxLength&&(e.first+=t,this.screen.set(e.first,!1)):e.second.replace(/(-|\.)/g,"").length<this.options.maxLength&&(e.second+=t,this.screen.set(e.second,!1))},screen:{set:function(t){if(""==(t=String(t))&&(t="0"),-1!=t.indexOf(".")&&"-0"!==t){let e=t.split(".");t=`${parseInt(e[0])}.${e[1]}`}else"-0"!=t&&(t=String(parseInt(t)));var e=""!=t&&void 0!=t&&"undefined"!=t;if("NaN"==t||!isFinite(t)||t.split(".")[0].replace(/-/,"").length>calculator.options.maxLength||!e)return calculator.screen.clear(),$(calculator.selector.screen).text("ERROR"),!1;if(t.replace(/-/,"").length<=calculator.options.maxLength&&e)calculator.selector.screen.text(calculator.parse.commas(t));else if(t.split(".")[0].replace(/-/,"").length<calculator.options.maxLength&&e){let e=calculator.options.maxLength-t.split(".")[0].length,a=calculator.parse.commas(math.round(parseFloat(t),e));calculator.selector.screen.text(a)}return calculator.selector.screen.text().replace(/,/g,"")},get:function(){return calculator.selector.screen.text().replace(/,/g,"")},value:function(){return parseFloat(this.get())},length:function(){return this.get().replace(/\./g,"").replace(/-/g,"").length},clear:function(){let t=calculator.storage;""!==t.second&&(t.lastSecond=t.second),t.clear=!1,t.first="0",t.second="",calculator.selector.screen.text(""),calculator.animate.op(),t.op="",calculator.screen.set(0)}},operator:function(t=""){let e=this.storage;""!==e.op?(this.calculate(!1,!0),e.clear=!1,e.op=t,this.animate.op(t)):(e.clear=!1,e.op=t,this.animate.op(t))},calculate:function(t,e){let a,c,r,o=this.storage;if(""!==o.op&&(""!==o.second||!e)){switch(["0",""].includes(this.second)||(this.lastSecond=this.second),a=parseFloat(o.first),c=""!==o.second?parseFloat(o.second):parseFloat(o.lastSecond),o.op){case"plus":r=a+c;break;case"subtract":r=a-c;break;case"multiply":r=a*c;break;case"divide":r=a/c;break;case"mod":r=a%c;break;case"pow-of-y":r=Math.pow(a,c);break;case"square-root-y":r=math.nthRoot(a,c)}this.animate.op(),o.first=String(r),o.second="",$(calculator.selector.screen).text(""),setTimeout(()=>{calculator.screen.set(r)},50),!0===t&&(this.clear=!0)}},mathFunctions:{pi:()=>{calculator.storage;let t=calculator.screen.value();return Math.PI*(0!==t?t:1)},e:()=>{calculator.storage;let t=calculator.screen.value();return Math.E*(0!==t?t:1)},pow:(t,e,a)=>math.pow(e,a),nthroot:(t,e,a)=>{try{let t=a%2==1&&e<0;t&&(e=-e);let c=Math.pow(e,1/a);if(a=Math.pow(c,a),Math.abs(e-a)<1&&e>0==a>0)return t?-c:c}catch(t){}},ln:(t,e)=>Math.log(e),log:(t,e,a)=>math.log(e,a),sin:(t,e)=>math.sin(math.unit(e,calculator.storage.radDeg)),cos:(t,e)=>math.cos(math.unit(e,calculator.storage.radDeg)),tan:(t,e)=>math.tan(math.unit(e,calculator.storage.radDeg)),sinh:(t,e)=>math.sinh(math.unit(e,calculator.storage.radDeg)),cosh:(t,e)=>math.cosh(math.unit(e,calculator.storage.radDeg)),tanh:(t,e)=>math.tanh(math.unit(e,calculator.storage.radDeg)),asin:(t,e)=>math.asin(e)*("rad"===t?1:180/Math.PI),acos:(t,e)=>math.acos(e)*("rad"===t?1:180/Math.PI),atan:(t,e)=>math.atan(e)*("rad"===t?1:180/Math.PI),asinh:function(t,e){return Math.asinh(e)},acosh:function(t,e){return Math.acosh(e)},atanh:function(t,e){return Math.atanh(e)}},math:function(t,e,a){let c=calculator.storage,r=calculator.storage.radDeg,o=calculator.mathFunctions[t](r,parseFloat(e),parseFloat(a));""===c.op?c.first=o:c.second=o,calculator.screen.set(o)},event:{addDecimal:function(){let t=calculator.storage;1==t.clear&&calculator.screen.clear(),-1==calculator.screen.get().indexOf(".")&&(""===t.op?(t.first=t.first+".",calculator.screen.set(t.first)):("."!==t.second&&""!==t.second||(t.second="0."),t.second=t.second+".",calculator.screen.set(t.second)))},posNeg:function(){let t=calculator.storage;""===t.op&&(0==t.first.length?t.first="-0":-1==t.first.indexOf("-")?t.first="-"+t.first:t.first=t.first.replace(/-/g,""),calculator.screen.set(t.first)),""!==t.op&&(0==t.second.length?t.second="-0":-1==t.second.indexOf("-")?t.second="-"+t.second:t.second=t.second.replace(/-/g,""),calculator.screen.set(t.second))},radDeg:function(){let t=calculator.storage;"rad"===calculator.selector.radDeg.text()?($(calculator.selector.radDeg).text("deg"),t.radDeg="deg"):"deg"===calculator.selector.radDeg.text()&&($(calculator.selector.radDeg).text("rad"),t.radDeg="rad")},percentage:function(){let t=calculator.storage;return""===t.op?(t.first=String(.01*t.first*1),t.clear=!0,calculator.screen.set(t.first)):(t.second=String(t.first*(.01*t.second)),t.clear=!0,calculator.screen.set(t.second))},sq:()=>{let t=calculator.storage;""===t.op?(t.first=String(t.first*t.first),t.clear=!0,calculator.screen.set(t.first)):(t.second=String(t.second*t.second),t.clear=!0,calculator.screen.set(t.second))},sqrt:()=>{let t=calculator.storage;""==t.op?(t.first=String(Math.sqrt(t.first)),t.clear=!0,calculator.screen.set(t.first)):(t.second=String(Math.sqrt(t.second)),t.clear=!0,calculator.screen.set(t.second))}},m:{recall:()=>{""==calculator.op?calculator.first=calculator.storage.m:calculator.second=calculator.storage.m,calculator.screen.set(calculator.storage.m)},clear:()=>{calculator.storage.m=0,$("#m-status").text("")},minus:function(){calculator.storage.m-=calculator.value(),"0"!=calculator.storage.m&&$("#m-status").text("m")},plus:function(){calculator.storage.m=parseFloat(calculator.storage.m)+calculator.value(),"0"!=calculator.storage.m&&$("#m-status").text("m")}},parse:{commas:function(t){let e=t.toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")}},animate:{op:t=>{let e=$("#"+t);$(".opp").css({"-webkit-transform":"scale(1)"}),void 0!=calculator.storage.op?(e.css({"-webkit-transform":"scale(0.90)"}),setTimeout(()=>{e.css({"-webkit-transform":"scale(0.95)"})},100)):e.css({"-webkit-transform":"scale(1)"})}},clipboard:{copy:t=>{let e=$("<input/>");e.val(t),$("body").append(e),e.select(),document.execCommand("copy"),e.remove()},paste:function(){let t=$("<input/>");$("body").append(t),t.select(),document.execCommand("paste");let e=parseFloat(t.val());isNaN(parseFloat(e))?(calculator.selector.screen.text("ERROR"),calculator.screen.clear()):(calculator.screen.set(e),""==calculator.op?calculator.first=e:calculator.second=e),t.remove()}}};
//# sourceMappingURL=calculator.js.map