function animatedShadow(o){var t=$(o),e=~Math.round((0-$(t).offset().left-$(t).outerWidth()/2-150)/175-14),r=~Math.round((0-$(t).offset().top-$(t).outerHeight()/2-150)/175-13),n=e+"px "+r+"px 0.2px #ddd";t.css({"-webkit-box-shadow":n,"box-shadow":n}),$(document).on("mousemove",function(t){var e=$(o),r=~Math.round((t.pageX-$(e).offset().left-$(e).outerWidth()/2-150)/175-14),n=~Math.round((t.pageY-$(e).offset().top-$(e).outerHeight()/2-150)/175-13),i=r+"px "+n+"px 0.2px #ddd";e.css({"-webkit-box-shadow":i,"box-shadow":i})}),window.onbeforeunload(function(){localStorage.tutorial=!0})}function trackButton(o){_gaq.push(["_trackEvent",o.target.id,"clicked"])}$("html,body").css("true"==localStorage.screenOnly?{width:204,height:54}:"false"==localStorage.scientific?{width:229,height:298}:{width:435,height:298}),chrome.tabs.getCurrent(function(o){void 0!=o&&(myLibrary("#calculator-container").center(),document.getElementById("margins").style.borderRadius="6px",document.getElementById("margins").style.border="1px solid #ddd",$(document).ready(function(){animatedShadow("#margins")}))}),$(document).ready(function(){if("true"!=localStorage.dev)for(var o=$(".button"),t=0;t<o.length;t++)o[t].addEventListener("click",trackButton);if("true"==localStorage.screenOnly?($("#input-container").css({width:"184px","padding-right":"8px"}),$("#input").css({width:"100%"}),$(".input-text").hide(),$("#scientific-container").remove(),$("#number-container").remove(),$("#margins").css({padding:"5px"})):"false"==localStorage.scientific?($("#scientific-container").remove(),$("#number-container").css({display:"inline-block"}),$("#input-container").css({width:"184px"}),$("#input").css({width:"100%"}),$(".input-text").hide(),$("#margins").css({padding:"16px"})):($("#input-container").css({width:"390px"}),$("#scientific-container").css({display:"inline-block"}),$("#number-container").css({display:"inline-block"}),$("#margins").css({padding:"16px"})),chrome.tabs.getCurrent(function(o){void 0!=o&&($("html,body").css({width:"100%",height:"100%"}),myLibrary("#calculator-container").center())}),"custom"!=localStorage.theme)theme.load(localStorage.theme);else{var e=$.parseJSON(localStorage.customTheme);void 0!=e.manifest&&void 0!=e.manifest.version&&e.manifest.version>0&&validateTheme(e)?theme.load(e):(localStorage.theme="google",$.getJSON("resources/themes/google.json",function(o){theme.load(o)}))}}),"true"!=localStorage.dev;