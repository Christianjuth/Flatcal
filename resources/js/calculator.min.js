function animateOpp(e){$(".opp").css({"-webkit-transform":"scale(1)"}),void 0!=e&&($("#"+e).css({"-webkit-transform":"scale(0.90)"}),setTimeout(function(){$("#"+e).css({"-webkit-transform":"scale(0.95)"})},100))}function copy(e){var t=$("<input/>");t.val(e),$("body").append(t),t.select(),document.execCommand("copy"),t.remove()}function paste(){var e=$("<input/>");$("body").append(e),e.select(),document.execCommand("paste");var t=parseFloat(e.val());return isNaN(parseFloat(t))||"0"==String(t)?(calculator.screen.selector.text("ERROR"),calculator.screen.clear()):(calculator.screen.set(t),""==opp?calculator.first=t:calculator.second=t),e.remove(),t}function rad(){return $("#rad-deg").text("rad"),"rad"}function deg(){return $("#rad-deg").text("deg"),"deg"}var calculator={ini:function(e,t){this.screen.selector=e,this.maxLength=Math.min(Math.round($("#input-container").width()/18-1),t),"rad"==localStorage.radDeg?rad():deg(),this.screen.clear()},numberClicked:function(e){1==calculator.clear&&calculator.screen.clear();var t="0"==calculator.screen.get()&&0==e&&-1==calculator.screen.selector.text().indexOf(".");return""==opp&&1!=t?calculator.first.replace(/-/g,"").replace(/\./g,"").length<calculator.maxLength&&(this.first=String(-1!=this.first.indexOf(".")?parseInt(this.first.split(".")[0])+"."+this.first.split(".")[1]+e:parseInt(this.first+""+e)),this.screen.set(this.first,!1)):1!=t&&calculator.second.replace(/-/g,"").replace(/\./g,"").length<calculator.maxLength&&(this.second=String(0==this.second.length?e:-1!=this.second.indexOf(".")?parseInt(this.second.split(".")[0])+"."+this.second.split(".")[1]+e:parseInt(this.second+""+e)),this.screen.set(this.second,!1)),e},screen:{set:function(e){e=String(e),""==e&&(e="0"),-1!=e.indexOf(".")&&"-0"!=e?e=String(parseInt(e.split(".")[0])+"."+e.split(".")[1]):"-0"!=e&&(e=String(parseInt(e)));var a=""!=e&&void 0!=e&&"undefined"!=e;return"NaN"==e||e.split(".")[0].replace(/-/,"").length>calculator.maxLength||!a?(calculator.screen.clear(),calculator.screen.selector.text("ERROR"),!1):(e.replace(/-/,"").length<=calculator.maxLength&&a?calculator.screen.selector.text(calculator.parse.commas(e)):e.split(".")[0].replace(/-/,"").length<calculator.maxLength&&a&&calculator.screen.selector.text(math.round(parseFloat(e),calculator.maxLength-e.split(".")[0].length)),calculator.screen.selector.text().replace(/,/g,""))},get:function(){return calculator.screen.selector.text().replace(/,/g,"")},length:function(){return this.get().replace(/\./g,"").replace(/-/g,"").length},clear:function(){animateOpp(),calculator.clear=!1,calculator.first="0",calculator.second="",opp="",overall="",calculator.screen.set(0)}},opp:function(e){return void 0==e&&(e=""),""!=opp?(calculator.calculate(!1),calculator.clear=!1,opp=e,animateOpp(e)):(calculator.clear=!1,opp=e,animateOpp(e)),opp},calculate:function(e){new Array;""!=calculator.second&&("plus"==opp?overall=parseFloat(calculator.first)+parseFloat(calculator.second):"subtract"==opp?overall=parseFloat(calculator.first)-parseFloat(calculator.second):"multiply"==opp?overall=parseFloat(calculator.first)*parseFloat(calculator.second):"divide"==opp?overall=parseFloat(calculator.first)/parseFloat(calculator.second):"mod"==opp?overall=parseFloat(calculator.first)%parseFloat(calculator.second):"pow-of-y"==opp?overall=Math.pow(parseFloat(calculator.first),parseFloat(calculator.second)):"square-root-y"==opp&&(overall=this.math.nthroot(parseFloat(calculator.first),parseFloat(calculator.second))),calculator.screen.selector.text(""),setTimeout(calculator.screen.set,100,overall),setTimeout(animateOpp,150),calculator.first=String(overall),calculator.second="0",overall="",1==e&&(calculator.clear=!0))},mathFunctions:{pi:function(){return""==opp?(calculator.first=String(Math.PI),calculator.first):(calculator.second=String(Math.PI),Math.PI)},pow:function(e,t){return calculator.first=String(Math.pow(e,t)),calculator.first},nthroot:function(e,t){try{var a=t%2==1&&0>e;a&&(e=-e);var c=Math.pow(e,1/t);if(t=Math.pow(c,t),Math.abs(e-t)<1&&e>0==t>0)return a?-c:c}catch(l){}},sin:function(e){return math.sin(parseFloat(e))},log:function(e){return math.log10(parseFloat(e))},cos:function(e){return"rad"==localStorage.radDeg?Math.cos(e):Math.cos(e*Math.PI/180).toFixed(15).replace(/\.?0+$/,"")},tan:function(e){return"rad"==localStorage.radDeg?Math.tan(e):Math.tan(e*Math.PI/180).toFixed(15).replace(/\.?0+$/,"")},e:function(){return Math.E},asin:function(e){return"rad"==localStorage.radDeg?Math.asin(e):180*Math.asin(e)/Math.PI},"in":function(e){return Math.log(e)},acos:function(e){return"rad"==localStorage.radDeg?Math.acos(e):180*Math.acos(e)/Math.PI},atan:function(e){return"rad"==localStorage.radDeg?Math.atan(e):180*Math.atan(e)/Math.PI}},math:function(e,t,a){var c=calculator.mathFunctions[e](t,a);return 0!=c?calculator.screen.set(c):void calculator.screen.get()},event:{addDecimal:function(){1==calculator.clear&&calculator.screen.clear(),-1==calculator.screen.get().indexOf(".")&&(""==opp?(calculator.first=calculator.first+".",calculator.screen.set(calculator.first)):(calculator.second=calculator.second+".",calculator.screen.set(calculator.second)))},posNeg:function(){""==opp&&(calculator.first=0==calculator.first.length?"-0":-1==calculator.first.indexOf("-")?"-"+calculator.first:calculator.first.replace(/-/g,""),calculator.screen.set(calculator.first)),""!=opp&&(calculator.second=0==calculator.second.length?"-0":-1==calculator.second.indexOf("-")?"-"+calculator.second:calculator.second.replace(/-/g,""),calculator.screen.set(calculator.second))}},m:{recall:function(){return 0!=parseFloat(localStorage.m)&&(""==opp?(calculator.first=localStorage.m,calculator.screen.set(calculator.first)):(calculator.second=localStorage.m,calculator.screen.set(calculator.second))),!1},clear:function(){return localStorage.m=0,!1},minus:function(){return localStorage.m=parseFloat(localStorage.m)-parseFloat(calculator.screen.get()),!1},plus:function(){return localStorage.m=parseFloat(localStorage.m)+parseFloat(calculator.screen.get()),!1}},parse:{commas:function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}}};$(document).ready(function(){calculator.ini($("#input"),15)});
