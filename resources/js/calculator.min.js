function numberClicked(e){1==clear&&Clear(),"0"==inputNumber()&&0==e&&-1==$("#input").text().indexOf(".")||(""==opp?String(first).replace(/-/,"").replace(/\./,"").length<Math.min(Math.round($("#input-container").width()/18-1),16)&&(first+=e,inputNumber(first,!1)):String(second).replace(/-/,"").replace(/\./,"").length<Math.min(Math.round($("#input-container").width()/18-1),16)&&("0"==second&&(second=""),second+=e,inputNumber(second,!1)))}function addDecimal(){1==clear&&Clear(),-1==String(inputNumber()).indexOf(".")&&(""==opp?(first=inputNumber()+".",inputNumber(first)):(second=inputNumber()+".",inputNumber(second)))}function posNeg(){""==opp&&(first=-1*first,inputNumber(first)),""!=opp&&(second=-1*second,inputNumber(second))}function oppClicked(e){return""!=opp?(clear=!1,calculate(!1),opp=e,animateOpp(e)):""!=first?(clear=!1,calculate(!1),opp=e,animateOpp(e)):""==first&&(first=0,clear=!1,opp=e,calculate(!1),animateOpp(e)),e}function animateOpp(e){$(".opp").css({"-webkit-transform":"scale(1)"}),void 0!=e&&($("#"+e).css({"-webkit-transform":"scale(0.90)"}),setTimeout(function(){$("#"+e).css({"-webkit-transform":"scale(0.95)"})},100))}function calculate(e){new Array;""!=second&&("plus"==opp?overall=parseFloat(first)+parseFloat(second):"subtract"==opp?overall=parseFloat(first)-parseFloat(second):"multiply"==opp?overall=parseFloat(first)*parseFloat(second):"divide"==opp?overall=parseFloat(first)/parseFloat(second):"mod"==opp?overall=parseFloat(first)%parseFloat(second):"pow-of-y"==opp?overall=Math.pow(parseFloat(first),parseFloat(second)):"square-root-y"==opp&&(overall=Math.nthroot(parseFloat(first),parseFloat(second))),inputNumber(overall),first=overall,second="",overall="",1==e&&(clear=!0))}function Clear(){animateOpp(),clear=!1,first="",second="",opp="",overall="",inputNumber(0)}function pi(){var e="3.141592653589793";""==opp?first=inputNumber(e):second=inputNumber(e)}function thePowerOf(e){first=Math.pow(parseFloat($("#input").text()),e),inputNumber(first)}function squareRoot(e){first=Math.sqrt(e),$("#input").text(first)}function sin(e){Clear(),inputNumber("rad"==localStorage.radDeg?Math.sin(e):Math.sin(e*Math.PI/180).toFixed(15).replace(/\.?0+$/,""))}function cos(e){Clear(),inputNumber("rad"==localStorage.radDeg?Math.cos(e):Math.cos(e*Math.PI/180).toFixed(15).replace(/\.?0+$/,""))}function tan(e){inputNumber("rad"==localStorage.radDeg?Math.tan(e):Math.tan(e*Math.PI/180).toFixed(15).replace(/\.?0+$/,""))}function asin(e){Clear(),inputNumber("rad"==localStorage.radDeg?Math.asin(e):180*Math.asin(e)/Math.PI)}function acos(e){Clear(),inputNumber("rad"==localStorage.radDeg?Math.acos(e):180*Math.acos(e)/Math.PI)}function atan(e){inputNumber("rad"==localStorage.radDeg?Math.atan(e):180*Math.atan(e)/Math.PI)}function e(){Clear(),inputNumber(Math.E)}function In(e){Clear(),inputNumber(Math.log(e))}function log(e){Clear(),inputNumber(Math.log(e)/Math.log(10))}function mPlus(){localStorage.m=parseFloat(localStorage.m)+parseFloat(inputNumber())}function mMinus(){localStorage.m=parseFloat(localStorage.m)-parseFloat(inputNumber())}function mClear(){localStorage.m=0}function mRecall(){return 0!=parseFloat(localStorage.m)&&(""==opp?(first=localStorage.m,inputNumber(first)):(second=localStorage.m,inputNumber(second))),localStorage.m}function inputNumber(e,t){(void 0==t||"undefined"==t)&&(t=!0);var e=String(e),r="";if(""!=e&&void 0!=e&&"undefined"!=e){var a=Math.min(Math.round($("#input-container").width()/18-1),16),n=e.split(".");if(String(n[0]).replace(/-/,"").replace(/\./,"").length>a||1!=!isNaN(parseFloat(e)))Clear(),$("#input").text("ERROR"),console.error("number too long");else if(2==n.length){if(String(n[1]).replace(/-/,"").replace(/\./,"").length>=a-String(n[0]).replace(/-/,"").replace(/\./,"").length){if(n[1]=n[1].substring(0,a-n[0].length),1==t)for(var i=0;20>i;i++)0==n[1].substring(n[1].length-1,n[1].length)&&(n[1]=n[1].substring(0,n[1].length-1));r=n[0].length>1?n[0].replace(/^0+/,"")+"."+n[1]:n[0]+"."+n[1]}else if(""!=n[1]){if(1==t)for(var i=0;20>i;i++)0==n[1].substring(n[1].length-1,n[1].length)&&(n[1]=n[1].substring(0,n[1].length-1));r=n[0].length>1?n[0].replace(/^0+/,"")+"."+n[1]:n[0]+"."+n[1]}else r=n[0].length>1?n[0].replace(/^0+/,""):n[0];-1!=e.indexOf(".")&&-1==r.indexOf(".")&&(r+="."),$("#input").text(numberCommas(r))}else-1!=e.indexOf(".")&&-1==r.indexOf(".")&&(r+="."),$("#input").text(n[0].length>1?numberCommas(n[0].replace(/^0+/,"")):numberCommas(n[0]))}return $("#input").text().replace(/,/,"")}function numberCommas(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}function copy(e){var t=$("<input/>");t.val(e),$("body").append(t),t.select(),document.execCommand("copy"),t.remove()}function paste(){var e=$("<input/>");$("body").append(e),e.select(),document.execCommand("paste");var t=parseFloat(e.val());return isNaN(parseFloat(t))||"0"==String(t)?($("#input").text("ERROR"),Clear()):(inputNumber(t),""==opp?first=t:second=t),e.remove(),t}function rad(){return $("#rad-deg").text("rad"),"rad"}function deg(){return $("#rad-deg").text("deg"),"deg"}if(void 0==enable||"undefined"==enable)var enable="all";$(document).ready(function(){"rad"==localStorage.radDeg?rad():deg(),Clear()}),Math.nthroot=function(e,t){try{var r=t%2==1&&0>e;r&&(e=-e);var a=Math.pow(e,1/t);if(t=Math.pow(a,t),Math.abs(e-t)<1&&e>0==t>0)return r?-a:a}catch(n){}};