function animateOpp(e){$(".opp").css({"-webkit-transform":"scale(1)"}),void 0!=e&&($("#"+e).css({"-webkit-transform":"scale(0.90)"}),setTimeout(function(){$("#"+e).css({"-webkit-transform":"scale(0.95)"})},100))}function cos(e){calculator.screen.clear(),calculator.screen.set("rad"==localStorage.radDeg?Math.cos(e):Math.cos(e*Math.PI/180).toFixed(15).replace(/\.?0+$/,""))}function tan(e){calculator.screen.set("rad"==localStorage.radDeg?Math.tan(e):Math.tan(e*Math.PI/180).toFixed(15).replace(/\.?0+$/,""))}function asin(e){calculator.screen.clear(),calculator.screen.set("rad"==localStorage.radDeg?Math.asin(e):180*Math.asin(e)/Math.PI)}function acos(e){calculator.screen.clear(),calculator.screen.set("rad"==localStorage.radDeg?Math.acos(e):180*Math.acos(e)/Math.PI)}function atan(e){calculator.screen.set("rad"==localStorage.radDeg?Math.atan(e):180*Math.atan(e)/Math.PI)}function e(){calculator.screen.clear(),calculator.screen.set(Math.E)}function In(e){calculator.screen.clear(),calculator.screen.set(Math.log(e))}function mPlus(){localStorage.m=parseFloat(localStorage.m)+parseFloat(calculator.screen.set())}function mMinus(){localStorage.m=parseFloat(localStorage.m)-parseFloat(calculator.screen.set())}function mClear(){localStorage.m=0}function mRecall(){return 0!=parseFloat(localStorage.m)&&(""==opp?(calculator.first=localStorage.m,calculator.screen.set(calculator.first)):(calculator.second=localStorage.m,calculator.screen.set(calculator.second))),localStorage.m}function numberCommas(e){var a=e.toString().split(".");return a[0]=a[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),a.join(".")}function copy(e){var a=$("<input/>");a.val(e),$("body").append(a),a.select(),document.execCommand("copy"),a.remove()}function paste(){var e=$("<input/>");$("body").append(e),e.select(),document.execCommand("paste");var a=parseFloat(e.val());return isNaN(parseFloat(a))||"0"==String(a)?($("#input").text("ERROR"),calculator.screen.clear()):(calculator.screen.set(a),""==opp?calculator.first=a:calculator.second=a),e.remove(),a}function rad(){return $("#rad-deg").text("rad"),"rad"}function deg(){return $("#rad-deg").text("deg"),"deg"}if(void 0==enable||"undefined"==enable)var enable="all";var calculator={numberClicked:function(e){var a=-1!=this.first.indexOf(".");1==clear&&calculator.screen.clear();var t="0"==calculator.screen.get()&&0==e&&-1==$("#input").text().indexOf(".");return""==opp&&1!=t?calculator.first.replace(/-/g,"").replace(/\./g,"").length<calculator.maxLength&&(this.first=String(a?parseInt(this.first.split(".")[0])+"."+this.first.split(".")[1]+e:parseInt(this.first)+""+e),this.screen.set(this.first,!1)):1!=t&&calculator.second.replace(/-/g,"").replace(/\./g,"").length<calculator.maxLength&&(this.second=0==this.second.length?e:String(a?parseInt(this.second.split(".")[0])+"."+this.second.split(".")[1]+e:parseInt(this.second)+""+e),this.screen.set(this.second,!1)),e},screen:{set:function(e){e=String(e),""==e&&(e="0"),e=String(-1!=e.indexOf(".")?parseInt(e.split(".")[0])+"."+e.split(".")[1]:parseInt(e));var t=""!=e&&void 0!=e&&"undefined"!=e;return e.split(".")[0].length>calculator.maxLength||!t?(calculator.screen.clear(),$("#input").text("ERROR"),!1):(e.length<=calculator.maxLength&&t?$("#input").text(numberCommas(e)):e.split(".")[0].length<calculator.maxLength&&t&&$("#input").text(math.round(parseFloat(e),calculator.maxLength-e.split(".")[0].length)),$("#input").text().replace(/,/g,""))},get:function(){return $("#input").text().replace(/,/g,"")},length:function(){return this.get().replace(/\./g,"").length},clear:function(){animateOpp(),clear=!1,calculator.first="0",calculator.second="",opp="",overall="",calculator.screen.set(0)}},opp:function(e){return void 0==e&&(e=""),""!=opp?(calculator.calculate(!1),clear=!1,opp=e,animateOpp(e)):(clear=!1,opp=e,animateOpp(e)),opp},calculate:function(e){new Array;""!=calculator.second&&("plus"==opp?overall=parseFloat(calculator.first)+parseFloat(calculator.second):"subtract"==opp?overall=parseFloat(calculator.first)-parseFloat(calculator.second):"multiply"==opp?overall=parseFloat(calculator.first)*parseFloat(calculator.second):"divide"==opp?overall=parseFloat(calculator.first)/parseFloat(calculator.second):"mod"==opp?overall=parseFloat(calculator.first)%parseFloat(calculator.second):"pow-of-y"==opp?overall=Math.pow(parseFloat(calculator.first),parseFloat(calculator.second)):"square-root-y"==opp&&(overall=this.math.nthroot(parseFloat(calculator.first),parseFloat(calculator.second))),$("#input").text(""),setTimeout(calculator.screen.set,100,overall),calculator.first=String(overall),calculator.second="0",overall="",1==e&&(clear=!0))},mathFunctions:{pi:function(){var e="3.141592653589793";""==opp?calculator.first=calculator.screen.set(e):calculator.second=calculator.screen.set(e)},pow:function(e){return calculator.first=Math.pow(parseFloat($("#input").text()),e),calculator.first},nthroot:function(e,a){try{var t=a%2==1&&0>e;t&&(e=-e);var l=Math.pow(e,1/a);if(a=Math.pow(l,a),Math.abs(e-a)<1&&e>0==a>0)return t?-l:l}catch(c){}},sin:function(e){return math.sin(parseFloat(e))},log:function(e){return calculator.screen.clear(),math.log10(parseFloat(e))}},math:function(e,a,t){calculator.screen.set(void 0!=t?calculator.mathFunctions[e](a,t):calculator.mathFunctions[e](a))},event:{addDecimal:function(){1==clear&&calculator.screen.clear(),-1==String(calculator.screen.set()).indexOf(".")&&(""==opp?(calculator.first=calculator.first+".",calculator.screen.set(calculator.first)):(calculator.second=calculator.second+".",calculator.screen.set(calculator.second)))},posNeg:function(){""==opp&&(calculator.first=0==calculator.first.length?"-0":-1==calculator.first.indexOf("-")?"-"+calculator.first:calculator.first.replace(/-/g,""),calculator.screen.set(calculator.first)),""!=opp&&(calculator.second=0==calculator.second.length?"-0":-1==calculator.second.indexOf("-")?"-"+calculator.second:calculator.second.replace(/-/g,""),calculator.screen.set(calculator.second))}}};$(document).ready(function(){cal=calculator,calculator.maxLength=Math.min(Math.round($("#input-container").width()/18-1),15),"rad"==localStorage.radDeg?rad():deg(),calculator.screen.clear()});
