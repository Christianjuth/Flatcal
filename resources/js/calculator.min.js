function numberClicked(o){1==clear&&Clear(),"0"==inputNumber()&&0==o&&-1==$("#input").text().indexOf(".")||(""==opp?String(first).replace(/-/,"").replace(/\./,"").length<Math.min(Math.round($("#input-container").width()/18-1),16)&&(first+=o,inputNumber(first,!1)):String(second).replace(/-/,"").replace(/\./,"").length<Math.min(Math.round($("#input-container").width()/18-1),16)&&("0"==second&&(second=""),second+=o,inputNumber(second,!1)))}function addDecimal(){1==clear&&Clear(),-1==String(inputNumber()).indexOf(".")&&(""==opp?(first=inputNumber()+".",inputNumber(first)):(second=inputNumber()+".",inputNumber(second)))}function posNeg(){""==opp&&(first=-1*first,inputNumber(first)),""!=opp&&(second=-1*second,inputNumber(second))}function oppClicked(o){return""!=opp?(clear=!1,calculate(!1),opp=o,animateOpp(o)):""!=first?(clear=!1,calculate(!1),opp=o,animateOpp(o)):""==first&&(first=0,clear=!1,opp=o,calculate(!1),animateOpp(o)),o}function animateOpp(o){$(".opp").css({"-webkit-transform":"scale(1)"}),void 0!=o&&($("#"+o).css({"-webkit-transform":"scale(0.90)"}),setTimeout(function(){$("#"+o).css({"-webkit-transform":"scale(0.95)"})},100))}function calculate(o){new Array;""!=second&&("plus"==opp?overall=parseFloat(first)+parseFloat(second):"subtract"==opp?overall=parseFloat(first)-parseFloat(second):"multiply"==opp?overall=parseFloat(first)*parseFloat(second):"divide"==opp?overall=parseFloat(first)/parseFloat(second):"mod"==opp?overall=parseFloat(first)%parseFloat(second):"pow-of-y"==opp?overall=Math.pow(parseFloat(first),parseFloat(second)):"square-root-y"==opp&&(overall=Math.nthroot(parseFloat(first),parseFloat(second))),inputNumber(overall),first=overall,second="",overall="",1==o&&(clear=!0))}function Clear(){animateOpp(),clear=!1,first="",second="",opp="",overall="",inputNumber(0)}function pi(){var o="3.141592653589793";""==opp?first=inputNumber(o):second=inputNumber(o)}function thePowerOf(o){first=Math.pow(parseFloat($("#input").text()),o),inputNumber(first)}function squareRoot(o){first=Math.sqrt(o),$("#input").text(first)}function sin(o){Clear(),inputNumber("rad"==localStorage.radDeg?Math.sin(o):Math.sin(o*Math.PI/180).toFixed(15).replace(/\.?0+$/,""))}function cos(o){Clear(),inputNumber("rad"==localStorage.radDeg?Math.cos(o):Math.cos(o*Math.PI/180).toFixed(15).replace(/\.?0+$/,""))}function tan(o){inputNumber("rad"==localStorage.radDeg?Math.tan(o):Math.tan(o*Math.PI/180).toFixed(15).replace(/\.?0+$/,""))}function asin(o){Clear(),inputNumber("rad"==localStorage.radDeg?Math.asin(o):180*Math.asin(o)/Math.PI)}function acos(o){Clear(),inputNumber("rad"==localStorage.radDeg?Math.acos(o):180*Math.acos(o)/Math.PI)}function atan(o){inputNumber("rad"==localStorage.radDeg?Math.atan(o):180*Math.atan(o)/Math.PI)}function e(){Clear(),inputNumber(Math.E)}function In(o){Clear(),inputNumber(Math.log(o))}function log(o){Clear(),inputNumber(Math.log(o)/Math.log(10))}function mPlus(){localStorage.m=parseFloat(localStorage.m)+parseFloat(inputNumber())}function mMinus(){localStorage.m=parseFloat(localStorage.m)-parseFloat(inputNumber())}function mClear(){localStorage.m=0}function mRecall(){return 0!=parseFloat(localStorage.m)&&(""==opp?(first=localStorage.m,inputNumber(first)):(second=localStorage.m,inputNumber(second))),localStorage.m}function inputNumber(o,t){(void 0==t||"undefined"==t)&&(t=!0);var o=String(o),e="";if(""!=o&&void 0!=o&&"undefined"!=o){var n=Math.min(Math.round($("#input-container").width()/18-1),16),r=o.split(".");if(String(r[0]).replace(/-/,"").replace(/\./,"").length>n||1!=!isNaN(parseFloat(o)))Clear(),$("#input").text("ERROR"),console.error("number too long");else if(2==r.length){if(String(r[1]).replace(/-/,"").replace(/\./,"").length>=n-String(r[0]).replace(/-/,"").replace(/\./,"").length){if(r[1]=r[1].substring(0,n-r[0].length),1==t)for(var i=0;20>i;i++)0==r[1].substring(r[1].length-1,r[1].length)&&(r[1]=r[1].substring(0,r[1].length-1));e=r[0]+"."+r[1]}else if(""!=r[1]){if(1==t)for(var i=0;20>i;i++)0==r[1].substring(r[1].length-1,r[1].length)&&(r[1]=r[1].substring(0,r[1].length-1));e=r[0]+"."+r[1]}else e=r[0];-1!=o.indexOf(".")&&-1==e.indexOf(".")&&(e+="."),$("#input").text(numberCommas(e))}else-1!=o.indexOf(".")&&-1==e.indexOf(".")&&(e+="."),$("#input").text(numberCommas(r[0]))}return $("#input").text().replace(/,/,"")}function numberCommas(o){var t=o.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}function copy(o){var t=$("<input/>");t.val(o),$("body").append(t),t.select(),document.execCommand("copy"),t.remove()}function paste(){var o=$("<input/>");$("body").append(o),o.select(),document.execCommand("paste");var t=parseFloat(o.val());return isNaN(parseFloat(t))||"0"==String(t)?($("#input").text("ERROR"),Clear()):(inputNumber(t),""==opp?first=t:second=t),o.remove(),t}function rad(){return $("#rad-deg").text("rad"),"rad"}function deg(){return $("#rad-deg").text("deg"),"deg"}if(void 0==enable||"undefined"==enable)var enable="all";$(document).ready(function(){"rad"==localStorage.radDeg?rad():deg(),Clear()}),Math.nthroot=function(o,t){try{var e=t%2==1&&0>o;e&&(o=-o);var n=Math.pow(o,1/t);if(t=Math.pow(n,t),Math.abs(o-t)<1&&o>0==t>0)return e?-n:n}catch(r){}};