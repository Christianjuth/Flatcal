var customCalculatorTheme=jQuery.parseJSON(localStorage.customTheme);$(document).ready(function(){myLibrary("#theme-builder-container").center(),theme.set(customCalculatorTheme),$(document.body).on("click","#save",function(){theme.save(localStorage.customTheme)}),"false"==localStorage.scientific?($("#scientific-1").remove(),$("#scientific-2").remove(),$("#number-container").css({display:"inline-block"}),$("#input-container").css({width:"184px"}),$("#input").css({width:"100%"}),$("#input-container > .text").hide(),$("#margins").css({padding:"16px"})):($("#input-container").css({width:"390px"}),$("#scientific-1").css({display:"inline-block"}),$("#number-container").css({display:"inline-block"}),$("#margins").css({padding:"16px"})),$("#left-container").scroll(function(){$("*").spectrum("hide")}),themebuilder.option.create("name","json.manifest","name",!0),themebuilder.option.create("body","json.body","color",!0),themebuilder.option.create("screen-border","json.input","outline",!1),themebuilder.option.create("screen","json.input","colortextborder",!0),themebuilder.option.create("buttons","json.button","colorhovertextsize",!0),themebuilder.option.create("numbers","json.button.numbers","colorhovertext",!1),themebuilder.option.create("operators","json.button.operators","colorhovertext",!1),themebuilder.option.create("ce button","json.button.ce","colorhovertext",!1),themebuilder.option.create("equal button","json.button.equal","colorhovertext",!1),themebuilder.option.create("+/- button","json.button.positiveNegative","colorhovertext",!1),themebuilder.option.create("percentage","json.button.percentage","colorhovertext",!1),themebuilder.option.create("decmel button","json.button.point","colorhovertext",!1),section=1,$(".2x").click(function(){1==section?($("#scientific-1").hide(),$("#scientific-2").show(),section=2):($("#scientific-2").hide(),$("#scientific-1").show(),section=1)})});var themebuilder={option:{create:function(e,t,o,r){var a=t.split("."),n=customCalculatorTheme;for(i=0;i<a.length-1;i++)"undefined"!=typeof n[a[i+1]]?n=n[a[i+1]]:(n[a[i+1]]={},n=n[a[i+1]]);var l=$("<section><h1>"+e+"</h1></section>").appendTo("#left-container");-1!=o.indexOf("color")&&$(this.color()).appendTo(l).find("input").val(n.color).spectrum({preferredFormat:"hex",showInput:!0,allowEmpty:!r,showButtons:!1,move:function(e){var e=e+"";themebuilder.updateTheme(t,"color",e)},change:function(e){var e=e+"";themebuilder.updateTheme(t,"color",e)}}),-1!=o.indexOf("hover")&&$(this.hoverColor()).appendTo(l).find("input").val(n.hoverColor).spectrum({preferredFormat:"hex",showInput:!0,allowEmpty:!r,showButtons:!1,move:function(e){var e=e+"";themebuilder.updateTheme(t,"hoverColor",e)},change:function(e){var e=e+"";themebuilder.updateTheme(t,"hoverColor",e)}}),-1!=o.indexOf("border")&&$(this.outlineColor()).appendTo(l).find("input").val(n.borderColor).spectrum({preferredFormat:"hex",showInput:!0,allowEmpty:!r,showButtons:!1,move:function(e){var e=e+"";themebuilder.updateTheme(t,"borderColor",e)},change:function(e){var e=e+"";themebuilder.updateTheme(t,"borderColor",e)}}),-1!=o.indexOf("outline")&&$(this.borderColor()).appendTo(l).find("input").val(n.outlineColor).spectrum({preferredFormat:"hex",showInput:!0,allowEmpty:!r,showButtons:!1,move:function(e){var e=e+"";themebuilder.updateTheme(t,"outlineColor",e)},change:function(e){var e=e+"";themebuilder.updateTheme(t,"outlineColor",e)}}),(-1!=o.indexOf("borderWidth")||-1!=o.indexOf("size"))&&$(this.borderWidth()).appendTo(l).find(".slider").sGlide({startAt:20*n.borderWidth,pill:!1,width:125,height:28,unit:"px",drag:function(e){var o=Math.round(.05*e.value);themebuilder.updateTheme(t,"borderWidth",o)}}),-1!=o.indexOf("text")&&$(this.textColor()).appendTo(l).find("input").val(n.textColor).spectrum({preferredFormat:"hex",showInput:!0,allowEmpty:!r,showButtons:!1,move:function(e){var e=e+"";themebuilder.updateTheme(t,"textColor",e)},change:function(e){var e=e+"";themebuilder.updateTheme(t,"textColor",e)}}),-1!=o.indexOf("font")&&$(this.font()).appendTo(l).find(".selctor").val(n.font).change(function(){themebuilder.updateTheme(t,"font",$(this).val()),theme.set(customCalculatorTheme)}).chosen({disable_search_threshold:10}),-1!=o.indexOf("name")&&$(this.name()).appendTo(l).val(n.name).change(function(){themebuilder.updateTheme(t,"name",$(this).val())})},name:function(){return'<input type="text" class="text" placeholder="untitled"/>'},color:function(){return'<div><h3>background color</h3><input type="text" class="color"/></div>'},hoverColor:function(){return'<div><h3>background color:hover</h3><input type="text" class="color"/></div>'},outlineColor:function(){return'<div><h3>color</h3><input type="text" class="color"/></div>'},borderColor:function(){return'<div><h3>border color</h3><input type="text" class="color"/></div>'},borderWidth:function(){return'<div><h3>outline width</h3><div class="slider"></div></div>'},textColor:function(){return'<div><h3>text color</h3><input type="text" class="color"/></div>'},font:function(){var e=$('<div><h3>font</h3><select class="selctor"></select></div>'),t=["arial","digital","helvetica","san-serif"];for(i=0;i<t.length;i++)e.find(".selctor").append('<option value="'+t[i]+'">'+t[i]+"</option>");return e}},updateTheme:function(e,t,o){var r=e.split("."),a=customCalculatorTheme;for(i=0;i<r.length-1;i++)a=a[r[i+1]];"undefined"!=typeof a&&(a[t]=o,theme.set(customCalculatorTheme))}};
