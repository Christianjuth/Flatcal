function tenClick(){return 10==numClick?(numClick=1,!0):(numClick+=1,2==numClick&&setTimeout(function(){1!=numClick&&(numClick=1)},2e3),!1)}function readFile(e){var t=e.target.files,r=t[0],n=new FileReader;n.onload=function(){validateTheme($.parseJSON(this.result))?theme.update($.parseJSON(this.result)):Alert("Error!","invalid theme")},n.readAsText(r)}function customTheme(e){"custom"==$("#theme-selctor").val()?$("#custom-themes").fadeIn():1==e?$("#custom-themes").fadeOut():$("#custom-themes").hide()}function changelogLine(e){var t=new Date(e.date.replace(/-/,"/")),r=["January","February","March","April","May","June","July","August","September","October","November","December"],n=r[t.getMonth()],a=t.getUTCDate(),i=t.getFullYear();$("<tr><td><a href='"+e.link+"'>"+e.version+"</a></td><td>"+e.description+"</td><td>"+n+"-"+a+"-"+i+"</td></tr>").appendTo("table")}function capitalize(e){for(var t=e.split(" "),r=0;r<t.length;r++){var n=t[r].charAt(0).toUpperCase();t[r]=n+t[r].substr(1)}return t.join(" ")}function dialogue(e,t,r){$("<div />").qtip({content:{text:e,title:t},position:{my:"center",at:"center",target:$(window)},show:{ready:!0,modal:{on:!0,blur:!1}},hide:{effect:r},style:{type:"dialogue",classes:"qtip-bootstrap"},events:{render:function(e,t){$("button",t.elements.content).click(function(e){t.hide(e)})},hide:function(e,t){t.destroy()}}})}$(document).ready(function(){progressJs().start(),$("#theme-selctor").chosen({disable_search_threshold:10}),$.getJSON(chrome.extension.getURL("resources/themes/themes-list.json"),function(e){for(e.sort(theme.sort.reverse),i=0;i<e.length;i++){var t=capitalize(e[i].name).replace(/-/," "),r=e[i].name.toLocaleLowerCase();$('<option class="theme-selctor-option" value="'+r+'">'+t+"&#174;</option>").prependTo("#theme-selctor")}option.defineSelect("#theme-selctor","theme",!0,function(){customTheme("custom"==localStorage.theme?!0:!1)}),progressJs().end()}),option.defineCheck("#scientific","scientific",!0),option.defineCheck("#dissable-notify-delay","noNotifyDelay",!0),option.defineCheck("#only-important-notify","limitNotifications",!0),option.defineCheck("#screen-only","screenOnly",!0,function(){option.dissableCheck("#scientific")},function(){option.enableCheck("#scientific")}),document.getElementById("theme-file-upload").addEventListener("change",readFile,!1),$("#save-current-theme").click(function(){theme.save(jQuery.parseJSON(localStorage.customTheme))}),option.defineCheck("#dissable-analytics","dev",!0),$("#reset-localStorage").find("a").click(function(){storage.resetAll()}),$("h1").click(function(){1==tenClick()&&("true"!=localStorage.dev&&analyticsEvent("dev-center","clicked"),$(".lightbox").unbind(),$(".lightbox, .popup").show(),myLibrary(".popup").center(),setTimeout(function(){$(".lightbox").click(function(){$(".lightbox, .popup").hide()})},300))}),$.getJSON("https://raw.githubusercontent.com/Christianjuth/calculator-browser-extension/JSON/changelog.json",function(e){for(i=0;i<Math.min(e.length,3);i++)line=e[i],changelogLine(0==i?line:line)})});var numClick=1;option={defineCheck:function(e,t,r,n,a){void 0==n&&(n=function(){}),void 0==a&&(a=function(){}),e=$(e),"true"==localStorage[t]?(e.find("input").prop("checked",!0),n()):(e.find("input").prop("checked",!1),a()),e.iCheck({checkboxClass:"icheckbox_square-grey checkbox",increaseArea:"20%"}).on("ifToggled",function(){0!=e.find("input").prop("checked")?(localStorage[t]="true",n()):(localStorage[t]="false",a())}),1==r&&this.watch(t,500,function(r){r.defineCheck(e,t,!1,n,a)})},dissableCheck:function(e){e=$(e),$(e).fadeTo(100,.4,function(){$(e).children(".checkbox").iCheck("disable")})},enableCheck:function(e){e=$(e),$(e).fadeTo(100,1,function(){$(e).children(".checkbox").iCheck("enable")})},defineSelect:function(e,t,r,n){e=$(e),e.val(localStorage[t]),e.chosen({disable_search_threshold:10}),e.trigger("chosen:updated"),n(),e.change(function(){localStorage[t]=e.val(),n()}),1==r&&this.watch(t,1e3,function(r){r.defineSelect(e,t,!1,n)}),e.trigger("chosen:updated")},watch:function(e,t,r){var n=localStorage[e];setTimeout(function(e,t,r,n,a){localStorage[e]!=n&&r(a),a.watch(e,t,r)},t,e,t,r,n,this)}},window.Alert=function(e,t,r){var n=$("<p />",{text:t}),a=$("<button />",{text:"Ok","class":"full"});dialogue(n.add(a),e,r)};